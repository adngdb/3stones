<!doctype html>
<html lang="en">
    <head>
        <title>· · ·</title>
        <meta charset="utf-8">

        <style>

html {
    height: 100%;
    width: 100%;
}
body {
    background-color: black;
    height: 100%;
    margin: 0;
    padding: 0;
    width: 100%;
}

#game-content {
    height: 100%;
    width: 100%;
}

.stone {
    background-color: black;
    height: 33%;
    width: 100%;
}

.stone + .stone {
    border-top: 2px solid gray;
}

.stone.selected {
    background-color: white;
}

        </style>
    </head>

    <body>
        <div id="game-content">
            <div class="stone"></div>
            <div class="stone"></div>
            <div class="stone"></div>
        </div>

        <script>

var stones = document.getElementsByClassName('stone');

Array.forEach(stones, function (s, i) {
    var onStoneClick = function (e) {
        e.preventDefault();
        this.classList.toggle('selected');
    }
    s.addEventListener('click', onStoneClick);
    s.addEventListener('touchstart', onStoneClick);
});

var locked = false;

function handleOrientationEvent(ev) {
  if (!locked && isFaceDown(ev.beta)) {
    locked = true;
  }
  if (locked && !isFaceDown(ev.beta)) {
    locked = false;
  }
}

function isFaceDown(beta) {
  return Math.abs(beta) > 170;
}

window.addEventListener("deviceorientation", handleOrientationEvent, true);

        </script>
    </body>
</html>
